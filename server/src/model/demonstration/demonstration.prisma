model Demonstration {
  id                String   @db.Uuid
  applicationTypeId String   @map("application_type_id")
  sdgDivisionId     String?  @map("sdg_division_id")
  signatureLevelId  String?  @map("signature_level_id")
  stateId           String   @map("state_id")
  createdAt         DateTime @default(now()) @map("created_at") @db.Timestamptz()
  updatedAt         DateTime @updatedAt @map("updated_at") @db.Timestamptz()

  application                  Application                       @relation(fields: [id, applicationTypeId], references: [id, applicationTypeId])
  applicationType              DemonstrationApplicationTypeLimit @relation(fields: [applicationTypeId], references: [id])
  state                        State                             @relation(fields: [stateId], references: [id])
  amendments                   Amendment[]
  extensions                   Extension[]
  sdgDivision                  SdgDivision?                      @relation(fields: [sdgDivisionId], references: [id], onDelete: Restrict)
  signatureLevel               SignatureLevel?                   @relation(fields: [signatureLevelId], references: [id], onDelete: Restrict)
  demonstrationRoleAssignments DemonstrationRoleAssignment[]

  @@id([id])
  @@unique([id, stateId])
  @@unique([id, applicationTypeId]) // Not required by Postgres, but Prisma requires this notation
  @@map("demonstration")
}
