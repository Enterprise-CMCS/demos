model Application {
  id                  String    @id @default(uuid()) @db.Uuid
  applicationTypeId   String    @map("application_type_id")
  name                String
  description         String?
  effectiveDate       DateTime? @map("effective_date") @db.Timestamptz()
  expirationDate      DateTime? @map("expiration_date") @db.Timestamptz()
  applicationStatusId String    @map("application_status_id")
  currentPhaseId      String    @map("current_phase_id")
  createdAt           DateTime  @default(now()) @map("created_at") @db.Timestamptz()
  updatedAt           DateTime  @updatedAt @map("updated_at") @db.Timestamptz()

  applicationType        ApplicationType         @relation(fields: [applicationTypeId], references: [id])
  demonstration          Demonstration?
  amendment              Amendment?
  extension              Extension?
  documents              Document[]
  documentsPendingUpload DocumentPendingUpload[]
  applicationPhases      ApplicationPhase[]
  applicationDates       ApplicationDate[]
  applicationStatus      ApplicationStatus       @relation(fields: [applicationStatusId], references: [id])
  currentPhase           Phase                   @relation(fields: [currentPhaseId], references: [id])

  @@unique([id, applicationTypeId])
  @@map("application")
}
