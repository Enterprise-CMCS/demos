model User {
  id             String   @db.Uuid
  personTypeId   String   @map("person_type_id")
  cognitoSubject String   @map("cognito_subject") @db.Uuid
  username       String
  createdAt      DateTime @default(now()) @map("created_at") @db.Timestamptz()
  updatedAt      DateTime @updatedAt @map("updated_at") @db.Timestamptz()

  person                  Person                   @relation(fields: [id, personTypeId], references: [id, personTypeId])
  userPersonTypeLimit     UserPersonTypeLimit      @relation(fields: [personTypeId], references: [id])
  documents               Document[]
  documentsPendingUpload  DocumentPendingUpload[]
  events                  Event[]
  modifications           Modification[]

  @@id([id])
  @@unique([id, personTypeId]) // This isnt actually required in Postgres; however prisma requires that we explicitly notate this as a unique constraint
  @@unique([cognitoSubject])
  @@map("users")
}
